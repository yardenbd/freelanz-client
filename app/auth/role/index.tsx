import React, { useState } from "react";
import { Pressable, StyleSheet, Text, View } from "react-native";
import { commonStyles } from "../../../scripts/styles";
import { useTranslation } from "react-i18next";
import Svg, { Path, G, Defs, ClipPath, Rect } from "react-native-svg";
import { COLORS } from "../../../constants/Colors";
import { PrimaryButton } from "../../../components/PrimaryButton/PrimaryButton";
import { useAppDispatch } from "../../../hooks/hooks";
import { updateUser } from "../../../store/features/user/actions";
import { useRouter } from "expo-router";

const Index = () => {
    const [selectedRole, setSelectedRole] = useState<string>("");
    const { t } = useTranslation();
    const router = useRouter();
    const ROLES = [
        {
            label: "Business",
            Icon: BusinessManIcon,
            description: t("businessDescription"),
        },
        {
            label: "Employee",
            Icon: FreelancerIcon,
            description: t("employeeDescription"),
        },
        {
            label: "Private",
            Icon: PrivateIcon,
            description: t("privateDescription"),
        },
    ];

    const dispatch = useAppDispatch();

    const onPress = async () => {
        await dispatch(updateUser({ type: selectedRole }));
        router.push("/profile/documents");
    };

    const rolesToRender = ROLES.map(({ Icon, description, label }) => (
        <Pressable
            onPress={() => setSelectedRole(label)}
            style={[styles.roleBtn, label === selectedRole && styles.selected]}
            key={label}
        >
            <View>
                <Text style={[commonStyles.rightText, styles.roleHeader]}>
                    {t(label)}
                </Text>
                <Text style={[commonStyles.rightText, styles.roleDescription]}>
                    {description}
                </Text>
            </View>
            <Icon />
        </Pressable>
    ));
    return (
        <>
            <Text style={commonStyles.authLabel}>{t("chooseRole")}</Text>
            <Text style={commonStyles.greySubLabel}>
                {t("roleDescription")}
            </Text>
            <View style={styles.roles}>{rolesToRender}</View>

            <PrimaryButton label={t("continue")} onPress={onPress} />
        </>
    );
};

export default Index;

const styles = StyleSheet.create({
    selected: {
        borderColor: COLORS.black,
    },
    roles: { width: "100%", gap: 15, marginTop: 52 },
    roleHeader: {
        fontSize: 18,
        color: COLORS.black,
        fontWeight: 700,
        marginBottom: 5,
    },
    roleDescription: {
        fontSize: 14,
        color: COLORS.grey,
        fontWeight: 400,
    },
    roleBtn: {
        display: "flex",
        flexDirection: "row",
        alignItems: "center",
        justifyContent: "flex-end",
        width: "100%",
        borderRadius: 15,
        paddingHorizontal: 15,
        paddingVertical: 20,
        borderWidth: 1,
        borderColor: COLORS.greyBorder,
        gap: 25,
    },
});

const PrivateIcon = () => {
    return (
        <Svg width="55" height="55" viewBox="0 0 55 55" fill="none">
            <Path
                d="M11.0383 16.5213C12.1087 16.3478 12.8358 15.3394 12.6623 14.269C12.4888 13.1986 11.4804 12.4715 10.4099 12.645C9.33954 12.8185 8.61247 13.8269 8.78599 14.8973C8.95951 15.9677 9.96791 16.6948 11.0383 16.5213Z"
                fill="#262626"
            />
            <Path
                d="M17.5172 15.9714C18.284 15.2046 18.284 13.9615 17.5172 13.1948C16.7505 12.428 15.5074 12.428 14.7406 13.1948C13.9739 13.9615 13.9739 15.2046 14.7406 15.9714C15.5074 16.7381 16.7505 16.7381 17.5172 15.9714Z"
                fill="#262626"
            />
            <Path
                d="M22.9197 15.9722C23.6865 15.2055 23.6865 13.9624 22.9197 13.1956C22.153 12.4289 20.9098 12.4289 20.1431 13.1956C19.3763 13.9624 19.3763 15.2055 20.1431 15.9722C20.9098 16.739 22.153 16.739 22.9197 15.9722Z"
                fill="#262626"
            />
            <Path
                d="M28.3486 15.9253H39.4937C40.2349 15.9253 40.8364 15.3237 40.8364 14.5825C40.8364 13.8413 40.2349 13.2397 39.4937 13.2397H28.3486C27.6074 13.2397 27.0059 13.8413 27.0059 14.5825C27.0059 15.3237 27.6074 15.9253 28.3486 15.9253Z"
                fill="#262626"
            />
            <Path
                d="M10.7282 22.3534C9.987 22.3534 9.38544 22.955 9.38544 23.6962C9.38544 24.4374 9.987 25.039 10.7282 25.039H16.1315C16.8727 25.039 17.4743 24.4374 17.4743 23.6962C17.4743 22.955 16.8727 22.3534 16.1315 22.3534H10.7282Z"
                fill="#262626"
            />
            <Path
                d="M20.0395 28.296H10.7282C9.987 28.296 9.38544 28.8976 9.38544 29.6388C9.38544 30.38 9.987 30.9815 10.7282 30.9815H20.0395C20.7807 30.9815 21.3823 30.38 21.3823 29.6388C21.3823 28.8976 20.7807 28.296 20.0395 28.296Z"
                fill="#262626"
            />
            <Path
                d="M20.0395 34.2397H10.7282C9.987 34.2397 9.38544 34.8412 9.38544 35.5824C9.38544 36.3236 9.987 36.9252 10.7282 36.9252H20.0395C20.7807 36.9252 21.3823 36.3236 21.3823 35.5824C21.3823 34.8412 20.7807 34.2397 20.0395 34.2397Z"
                fill="#262626"
            />
            <Path
                d="M48.2507 24.8381C47.8747 24.4621 47.4815 24.1141 47.0744 23.7929V11.7874C47.0744 9.27052 45.0259 7.22198 42.509 7.22198H7.37878C4.86189 7.22198 2.81335 9.27052 2.81335 11.7874V41.1426C2.81335 43.6606 4.86189 45.708 7.37878 45.708H31.5809C33.7616 47.083 36.2549 47.7716 38.7481 47.7716C42.1888 47.7716 45.6306 46.4621 48.2507 43.8421C53.4896 38.6031 53.4896 30.0781 48.2507 24.8381ZM5.4989 41.1426V11.7874C5.4989 10.7508 6.34216 9.90753 7.37878 9.90753H42.509C43.5456 9.90753 44.3888 10.7508 44.3888 11.7874V22.1429C39.4217 19.8526 33.3341 20.7507 29.2467 24.8381C24.2719 29.8128 24.0217 37.7481 28.4926 43.0225H7.37878C6.34216 43.0225 5.4989 42.1792 5.4989 41.1426ZM46.3514 41.9429C44.2546 44.0398 41.5024 45.0871 38.7481 45.0871C35.9949 45.0871 33.2406 44.0387 31.1448 41.9429C26.9521 37.7502 26.9521 30.9289 31.1448 26.7373C35.3375 22.5457 42.1588 22.5457 46.3504 26.7373C50.543 30.93 50.543 37.7513 46.3504 41.9429H46.3514Z"
                fill="#262626"
            />
            <Path
                d="M42.2651 33.8422C42.8839 33.0709 43.2545 32.0923 43.2545 31.0288C43.2545 28.5441 41.2328 26.5225 38.7481 26.5225C36.2635 26.5225 34.2418 28.5441 34.2418 31.0288C34.2418 32.0977 34.6167 33.0795 35.2408 33.8529C33.3179 35.0496 32.0321 37.197 32.0321 39.6333C32.0321 40.3745 32.6337 40.9761 33.3749 40.9761C34.1161 40.9761 34.7177 40.3745 34.7177 39.6333C34.7177 37.3903 36.5127 35.5513 38.718 35.5352C39.7955 35.5276 40.8203 35.9423 41.5884 36.705C42.3564 37.4677 42.7797 38.4839 42.7797 39.5656C42.7797 40.3068 43.3812 40.9084 44.1224 40.9084C44.8636 40.9084 45.4652 40.3068 45.4652 39.5656C45.4652 37.762 44.7605 36.069 43.4801 34.7982C43.1084 34.4287 42.7002 34.1097 42.2651 33.8411V33.8422ZM38.7492 29.2091C39.7525 29.2091 40.57 30.0255 40.57 31.0299C40.57 32.0343 39.7536 32.8507 38.7492 32.8507C37.7448 32.8507 36.9284 32.0343 36.9284 31.0299C36.9284 30.0255 37.7448 29.2091 38.7492 29.2091Z"
                fill="#5271FF"
            />
        </Svg>
    );
};

const BusinessManIcon = () => {
    return (
        <Svg width="55" height="55" viewBox="0 0 55 55" fill="none">
            <G id="business-man_6502836 1" clip-Path="url(#clip0_88_29618)">
                <G id="_x30_4_Business_man">
                    <G id="Business_man">
                        <Path
                            id="Vector"
                            d="M20.3994 45.0635L19.0029 33.8594C19.2607 33.7305 19.4434 33.4512 19.4434 33.1396V29.3799C19.4434 28.9395 19.0781 28.5742 18.6377 28.5742H13.8037C13.3633 28.5742 12.9981 28.9395 12.9981 29.3799V33.1396C12.9981 33.4512 13.1807 33.7197 13.4385 33.8594L12.8691 38.4141C12.8154 38.8545 13.127 39.2627 13.5674 39.3164C14.0078 39.3701 14.416 39.0586 14.4697 38.6182L15.0498 33.9561H17.3916L18.7988 45.2568C18.8418 45.5684 18.7344 45.8906 18.5195 46.1162L17.0049 47.749C16.8008 47.9746 16.5215 48.0928 16.2207 48.0928C15.9199 48.0928 15.6406 47.9746 15.4365 47.749L13.9219 46.1162C13.707 45.8799 13.5996 45.5684 13.6426 45.2568L14.0078 42.3672C14.0615 41.9268 13.75 41.5186 13.3096 41.4648C12.8691 41.4111 12.4609 41.7227 12.4072 42.1631L12.042 45.0527C11.9453 45.8477 12.1924 46.6318 12.7402 47.2119L14.2549 48.8447C14.7598 49.3926 15.4795 49.7041 16.2207 49.7041C16.9619 49.7041 17.6816 49.3926 18.1865 48.8447L19.7012 47.2119C20.249 46.6426 20.4961 45.8477 20.3994 45.0635Z"
                            fill="#5271FF"
                        />
                        <Path
                            id="Vector_2"
                            d="M51.6699 33.9453H47.373V30.9912C47.373 28.4775 45.3213 26.4258 42.8076 26.4258H34.751C33.2686 26.4258 31.9473 27.1348 31.1201 28.2305C29.8418 25.2764 26.8984 23.2031 23.4717 23.2031H21.5059C24.0518 21.4951 25.7275 18.5947 25.7275 15.3076V10.1514C25.7275 4.90918 21.4629 0.644531 16.2207 0.644531C10.9785 0.644531 6.71387 4.90918 6.71387 10.1514V15.3076C6.71387 18.5947 8.38965 21.4951 10.9355 23.2031H8.96973C4.38281 23.2031 0.644531 26.9414 0.644531 31.5283V49.79C0.644531 52.3037 2.69629 54.3555 5.20996 54.3555H51.6699C53.1523 54.3555 54.3555 53.1523 54.3555 51.6699V36.6309C54.3555 35.1484 53.1523 33.9453 51.6699 33.9453ZM31.7969 30.9912C31.7969 29.3584 33.1182 28.0371 34.751 28.0371H42.8076C44.4404 28.0371 45.7617 29.3584 45.7617 30.9912V33.9453H43.3447V30.9912C43.3447 30.5508 42.9795 30.1855 42.5391 30.1855H35.0195C34.5791 30.1855 34.2139 30.5508 34.2139 30.9912V33.9453H31.7969V30.9912ZM41.7334 31.7969V33.9453H35.8252V31.7969H41.7334ZM21.7422 24.8145L22.4941 28.5742H17.7139L20.1631 24.8145H21.7422ZM16.2207 27.8975L14.2119 24.8145H18.2295L16.2207 27.8975ZM16.2207 2.25586C20.3027 2.25586 23.6758 5.37109 24.0732 9.35645L22.4082 9.36719C22.3867 9.36719 22.376 9.36719 22.3545 9.36719C21.4844 9.43164 20.6465 9.13086 20.0127 8.54004C19.3682 7.94922 19.0244 7.13281 19.0244 6.2627C19.0244 5.96191 18.8525 5.68262 18.584 5.54297C18.3154 5.40332 17.9932 5.43555 17.7461 5.60742C14.6738 7.8418 12.708 9.10938 8.36816 9.31348C8.79785 5.34961 12.1494 2.25586 16.2207 2.25586ZM8.3252 15.3076V10.9248H8.37891C12.6758 10.7422 14.9102 9.58203 17.6279 7.68066C17.875 8.4541 18.3154 9.16309 18.917 9.73242C19.7871 10.5488 20.9473 11 22.1396 11C22.2471 11 22.3438 11 22.4512 10.9893L24.1162 10.9785V15.3184C24.1162 19.6689 20.5713 23.2139 16.2207 23.2139C11.8701 23.2139 8.3252 19.6582 8.3252 15.3076ZM10.6992 24.8145H12.2891L14.7383 28.5742H9.94727L10.6992 24.8145ZM23.4287 52.7441H6.01562V37.4365C6.01562 36.9961 5.65039 36.6309 5.20996 36.6309C4.76953 36.6309 4.4043 36.9961 4.4043 37.4365V52.6367C3.16895 52.2822 2.25586 51.1436 2.25586 49.79V31.5283C2.25586 27.8223 5.26367 24.8145 8.96973 24.8145H9.06641L8.37891 28.2627C8.28223 28.7354 8.40039 29.2295 8.71191 29.6055C9.02344 29.9814 9.47461 30.1963 9.95801 30.1963H22.4941C22.9775 30.1963 23.4287 29.9814 23.7402 29.6055C24.0518 29.2295 24.1699 28.7461 24.0732 28.2627L23.3857 24.8145H23.4824C27.1885 24.8145 30.1963 27.8223 30.1963 31.5283V33.9453H25.8994C24.417 33.9453 23.2139 35.1484 23.2139 36.6309V51.6699C23.2031 52.0566 23.2891 52.4111 23.4287 52.7441ZM52.7441 51.6699C52.7441 52.2607 52.2607 52.7441 51.6699 52.7441H25.8887C25.2979 52.7441 24.8145 52.2607 24.8145 51.6699V40.8848C25.4053 41.5615 26.1357 42.1094 26.9629 42.4854V49.79C26.9629 50.2305 27.3281 50.5957 27.7686 50.5957H42.2705C42.7109 50.5957 43.0762 50.2305 43.0762 49.79C43.0762 49.3496 42.7109 48.9844 42.2705 48.9844H28.5742V42.9902C28.9287 43.0439 29.2832 43.0762 29.6484 43.0762H47.9102C48.2754 43.0762 48.6299 43.0439 48.9844 42.9902V48.9844H46.0303C45.5898 48.9844 45.2246 49.3496 45.2246 49.79C45.2246 50.2305 45.5898 50.5957 46.0303 50.5957H49.79C50.2305 50.5957 50.5957 50.2305 50.5957 49.79V42.4854C51.4229 42.1094 52.1533 41.5615 52.7441 40.8848V51.6699ZM47.9102 41.4648H29.6484C26.9844 41.4648 24.8145 39.2949 24.8145 36.6309C24.8145 36.04 25.2979 35.5566 25.8887 35.5566H51.6699C52.2607 35.5566 52.7441 36.04 52.7441 36.6309C52.7441 39.2949 50.5742 41.4648 47.9102 41.4648Z"
                            fill="#262626"
                        />
                        <Path
                            id="Vector_3"
                            d="M39.3164 46.8359H38.2422C36.7598 46.8359 35.5566 45.6328 35.5566 44.1504V40.3906C35.5566 38.9082 36.7598 37.7051 38.2422 37.7051H39.3164C40.7988 37.7051 42.002 38.9082 42.002 40.3906V44.1504C42.002 45.6328 40.7988 46.8359 39.3164 46.8359Z"
                            fill="#5271FF"
                        />
                    </G>
                </G>
            </G>
            <Defs>
                <ClipPath id="clip0_88_29618">
                    <Rect width="55" height="55" fill="white" />
                </ClipPath>
            </Defs>
        </Svg>
    );
};

const FreelancerIcon = () => {
    return (
        <Svg width="55" height="55" viewBox="0 0 55 55" fill="none">
            <G clip-Path="url(#clip0_88_29638)">
                <Path
                    d="M17.8575 13.6887L17.8601 19.1129C17.9475 23.176 20.5293 26.4082 24.2885 27.7157C25.243 28.0476 26.3119 28.2543 27.5001 28.2675C32.4666 28.2121 37.0234 24.5388 37.1399 19.1129L37.1425 13.6887"
                    stroke="#262626"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M38.6022 6.05612C38.6012 3.15616 36.2499 0.805555 33.3498 0.805662C32.3558 0.805662 24.7532 0.805877 23.5885 0.805984C22.7653 0.805984 22.01 1.26199 21.6265 1.99042V2.01416C21.6265 2.81746 20.9826 3.34071 20.1891 3.21696C18.1515 2.89921 16.3954 4.46628 16.3954 6.44338V13.7182C16.4995 13.6988 16.607 13.6888 16.7169 13.6888H18.6031C19.2492 13.3727 19.6943 12.7091 19.6943 11.9413V10.201C19.6943 9.1677 20.5319 8.32992 21.5653 8.32992C21.8027 8.34442 22.6195 8.25139 23.6868 8.61362C23.8688 8.64875 26.6734 9.87379 30.3458 8.9621C30.946 8.81321 31.3549 8.65949 31.4979 8.61362C32.4814 8.27986 33.3452 8.33615 33.4347 8.32992C34.4681 8.32992 35.3058 9.1677 35.3058 10.201V11.9412C35.3058 12.7091 35.7508 13.3727 36.397 13.6888H38.2832C38.3931 13.6888 38.5004 13.6988 38.6045 13.7182L38.603 9.86412"
                    stroke="#262626"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M37.1399 19.1129H38.2833C39.2471 19.1129 40.0285 18.3316 40.0285 17.3677V15.4338C40.0285 14.47 39.2471 13.6888 38.2833 13.6888"
                    stroke="#262626"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M16.7168 13.6887C15.7529 13.6887 14.9716 14.47 14.9716 15.4338V17.3677C14.9716 18.3316 15.7529 19.1129 16.7168 19.1129H17.8602"
                    stroke="#262626"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M21.7983 26.4532V31.0697C21.7983 31.5346 21.6028 31.9583 21.2851 32.2575L21.2847 32.2573C21.0419 32.4859 20.728 32.6421 20.3756 32.6878C19.8978 32.7498 19.3225 32.8288 18.6872 32.9243L18.6871 32.9241C16.0942 33.3127 12.5157 33.9754 10.4116 34.9122C7.54704 36.1876 5.70154 39.0295 5.70154 42.1651V44.2631"
                    stroke="#262626"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M24.4868 38.6102L26.0066 41.8516H28.9934L30.5133 38.6102"
                    stroke="#5271FF"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M18.0875 33.0167L20.2067 38.4617C20.6092 39.4959 21.8152 39.9584 22.8061 39.4583L27.5 37.0894L21.2848 32.2573"
                    stroke="#262626"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M33.7153 32.2573L27.5001 37.0894L32.194 39.4583C33.1848 39.9584 34.3909 39.496 34.7934 38.4618L36.9126 33.0167"
                    stroke="#262626"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M26.0066 41.8516L24.0024 54.1943"
                    stroke="#5271FF"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M30.9976 54.1943L28.9935 41.8517"
                    stroke="#5271FF"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M41.5827 46.7587H35.9055C35.4363 46.7587 35.056 46.3783 35.056 45.9091V43.6738C35.056 43.2045 35.4363 42.8242 35.9055 42.8242H41.5827C42.0519 42.8242 42.4323 43.2045 42.4323 43.6738V45.9091C42.4323 46.3783 42.0519 46.7587 41.5827 46.7587Z"
                    stroke="#5271FF"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M12.5677 50.0533V54.003"
                    stroke="#5271FF"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M42.4323 50.0533V54.003"
                    stroke="#5271FF"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                <Path
                    d="M5.7016 48.0427V51.8992C5.7016 53.1668 6.72909 54.1944 7.99667 54.1944H47.0034C48.2709 54.1944 49.2985 53.1668 49.2985 51.8992V42.1651C49.2985 39.0295 47.453 36.1877 44.5885 34.9122C42.6614 34.0542 39.4335 33.4166 36.9125 33.0169C36.7143 32.9856 36.4949 32.9517 36.313 32.9242C35.6777 32.8286 35.1023 32.7498 34.6245 32.6879C34.2721 32.6421 33.9582 32.4859 33.7154 32.2573C33.3977 31.9581 33.2018 31.5346 33.2018 31.0697V26.4499"
                    stroke="#262626"
                    stroke-width="2"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
            </G>
            <Defs>
                <ClipPath id="clip0_88_29638">
                    <Rect width="55" height="55" fill="white" />
                </ClipPath>
            </Defs>
        </Svg>
    );
};
